/**
 * Image SCSS Partial
 */

img,
figure svg,
.image--right svg,
.image--left svg {
	height:auto;
	max-width:100%;
  margin:0 auto;
  display: block;
  border-radius:rem(3);
  & + em {
    margin-top:rem(5);
    color:$color-accent;
  }
}

.figure-wrap {
  text-align: center;
}
.figure-wrap--half {
  display: inline-block;
  vertical-align: top;
  width: calc(50% - #{rem(8)});
  & + & {
    margin-left: rem(16);
  }
  @include max-width($bp-mid) {
    width: 100%;
    & + & {
      margin-left: 0;
    }
  }
}


figure {
  display:inline-block;
  margin:rem(20) auto;
  max-width:100%;
  min-width:rem(200);
  position: relative;
}

figcaption {
  font-style: italic;
  @include font-size(18);
  color:$color-accent;
  width:100%;
  text-align: left;
  padding-top:rem(5);
  background:$color-white;
  @include max-width($bp-small) {
    @include font-size(17);
  }
  @include max-width($bp-tiny) {
    @include font-size(16);
  }
}


.image--left {
  margin:rem(5) rem(10) rem(10) 0;
  max-width:rem(350);
  float:left;
}
.image--right {
  margin:rem(5) 0 rem(10) rem(10);
  max-width:rem(350);
  float:right;
}
.image--left,
.image--right {
  @include max-width($bp-mid) {
    max-width: rem(250);
  }
}
.image--left,
.image--right {
  @include max-width($bp-tiny + 100) {
    // max-width:none;
    float:none;
    margin:rem(20) auto;
  }
}
.image--has-border {
  img {
    border:rem(1) solid #ddd;
  }
}

.image--to-load {
  background:#ddd;
  position: relative;
  &:before {
    position: absolute;
    visibility: visible;
    top: calc(50% - #{rem(55)});
    z-index: 1;
    @include font-size(64);
    text-align: center;
    width: 100%;
    color:$color-white;
    left:0;
    text-shadow:rgba($color-black,0.05) 0 0 rem(3);
    transition:opacity .25s cubic-bezier(#{$bezier-nice}), visiblity .25s cubic-bezier(#{$bezier-nice});
  }
  img {
    transition:opacity .25s cubic-bezier(#{$bezier-nice});
    opacity:0;
  }
}
.figure--loaded {
  &:before {
    opacity:0;
    visibility:hidden;
  }
  img {
    opacity:1;
  }
}

.image-grid {
  columns: 2;
  column-gap: rem(16);
  .figure-wrap--half {
    figure {
      min-width: 0;
    }
  }
  @include max-width($bp-small) {
    columns: 1;
  }
  html[data-useragent*='Chrome'] & {
    columns: 1;
    margin-left: rem(-8);
    width: calc(100% + #{rem(16)});
    .figure-wrap {
      display: inline-block;
      margin:0 rem(8);
      width: calc(50% - #{rem(16)});
      vertical-align: top;
    }
    .figure-wrap--half {
      width: calc(25% - #{rem(16)});
      @include max-width($bp-mid) {
        width: calc(50% - #{rem(16)});
      }
    }
    @include max-width($bp-small) {
      margin-left: 0;
      width: 100%;
      .figure-wrap {
        width: 100%;
        margin: 0;
      }
    }
  }
}