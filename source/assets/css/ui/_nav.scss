$pages: (
  home: index,
  projects: portfolio,
  journal: journal,
  process: process,
  about: about,
  contact: contact,
  bucket: bucket-list,
  triathlon: triathlon
);

.nav {
  width:rem(150);
  height:100%;
  text-align: center;
  display: flex;
  position: relative;
  &:before {
    content:'';
    position:absolute;
    height:100%;
    max-height:rem(50);
    bottom:0;
    left:0;
    width:100%;
    background:linear-gradient(rgba($color-black,0.0001),$color-black);
    display: block;
    z-index:7;
    pointer-events:none;
  }
  @include respond-to($bp-small) {
    width:rem(60);
  }
  @include respond-to($bp-tiny) {
    width:100%;
  }
}
.nav__toggle {
  display: none;
  @include respond-to($bp-tiny) {
    display: block;
    width:rem(50);
    height:rem(50);
    position: fixed;
    color:$color-white;
    text-decoration: none;
    @include font-size(32);
    z-index: 6;
    text-align: center;
    right:0;
    top:0;
    transition:opacity .25s cubic-bezier(#{$bezier-nice}), transform .25s cubic-bezier(#{$bezier-nice});
    &:after {
      content:'';
      width:rem(40);
      height:rem(40);
      position: absolute;
      top:rem(5);
      left:rem(5);
      border-radius:rem(3);
      border:rem(2) solid $color-white;
      background:rgba($color-dark,0.85);
      z-index:3;
    }
    &:before {
      width:rem(32);
      height:rem(32);
      line-height:rem(36);
      position: absolute;
      top:rem(9);
      left:rem(9);
      transform:scale(0.75);
      display: block;
      z-index:4;
      position: relative;
      transition:transform .25s cubic-bezier(#{$bezier-nice});
      .masthead--toggled + & {
        transform:rotate(45deg) scale(0.75) translateY(#{rem(1)});
      }
    }
    @include hover {
      color:$color-white;
      opacity:0.75;
    }
    @include active {
      transform:scale(0.95);
    }
  }
}
.nav__list {
  padding:0;
  width:100%;
  max-width:$layout-max-width-wide-suffix;
  position: relative;
  margin:auto;
}
.nav__item {
  display: inline-block;
  vertical-align: top;
  width:100%;
  &:nth-of-type(1) {
    @include animation('%fade-left',.25s);
  }
  &:nth-of-type(2) {
    @include animation('%fade-left',.375s);
  }
  &:nth-of-type(3) {
    @include animation('%fade-left',.5s);
  }
  &:nth-of-type(4) {
    @include animation('%fade-left',.625s);
  }
  &:nth-of-type(5) {
    @include animation('%fade-left',.75s);
  }
  &:nth-of-type(6) {
    @include animation('%fade-left',.875s);
  }
  &:nth-of-type(7) {
    @include animation('%fade-left',1s);
  }
}
[class^="nav__link--"] {
  @include font-size(18);
  display: block;
  color:$color-white;
  padding:rem(10) rem(10) rem(5) rem(10);
  text-decoration: none;
  transition:color .25s cubic-bezier(#{$bezier-nice}), background .25s cubic-bezier(#{$bezier-nice});
  overflow: hidden;
  @include respond-to($bp-small) {
    padding-bottom:rem(10);
  }
  @include respond-to($bp-tiny) {
    padding:rem(20) rem(20);
    text-align: left;
  }
  @include respond-to($bp-miniscule) {
    padding:rem(10) rem(15);
  }
  &:before {
    display: block;
    font-size:32px;
    height:rem(40);
    color:$color-accent-mono;
    transition:inherit;
    overflow: hidden;
    opacity:1;
    @include respond-to($bp-tiny) {
      display: inline-block;
      vertical-align: middle;
    }
  }
  @include hover {
    color:$color-white;
    background:rgba($color-accent,0.05);
    &:before {
      color:$color-white;
    }
  }
  @include active {

  }
}
%nav__link--selected {
  background:rgba($color-accent,0.1);
  &:before {
    color:$color-white;
  }
}
@each $selected, $page in $pages {
  .nav__link--#{$selected} {
    body.#{$page} & {
      @extend %nav__link--selected;
    }
  }
}
.nav__label {
  border-bottom:0;
  @include respond-to($bp-small) {
    display: none;
  }
  @include respond-to($bp-tiny) {
    display: inline-block;
    max-width:calc(100% - #{rem(50)});
    vertical-align: middle;
    padding-left:rem(20);
  }
}
abbr.nav__label {
  border-bottom:0;
  background:none;
}
.nav__divider {
  display: inline-block;
  vertical-align: top;
  width:em(200);
}